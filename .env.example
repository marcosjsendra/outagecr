# OutageCR Environment Variables Template
# Copy this file to .env and fill in your actual values
# Never commit the actual .env file to version control

# ===========================================
# Application Configuration
# ===========================================

# Application name and environment
VITE_APP_NAME=OutageCR
VITE_APP_ENV=development

# Application URLs
VITE_APP_URL=http://localhost:5173
VITE_API_URL=https://your-project.supabase.co

# Version information
VITE_APP_VERSION=1.0.0
VITE_BUILD_DATE=2024-01-01

# ===========================================
# Supabase Configuration
# ===========================================

# Supabase Project URL (from Supabase dashboard)
VITE_SUPABASE_URL=https://your-project-id.supabase.co

# Supabase API Key (from Supabase dashboard > Settings > API)
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-anon-key-here

# Supabase Service Role Key (for backend operations - keep secret!)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-service-role-key-here

# ===========================================
# Authentication Configuration
# ===========================================

# Authentication providers
VITE_ENABLE_ANONYMOUS_AUTH=true
VITE_ENABLE_EMAIL_AUTH=false
VITE_ENABLE_SOCIAL_AUTH=false

# Session configuration
VITE_SESSION_TIMEOUT=3600 # 1 hour in seconds

# Redirect URLs for authentication
VITE_AUTH_REDIRECT_URL=http://localhost:5173/auth/callback
VITE_AUTH_SIGNOUT_URL=http://localhost:5173

# ===========================================
# Google reCAPTCHA Configuration
# ===========================================

# reCAPTCHA Site Key (for frontend)
VITE_RECAPTCHA_SITE_KEY=6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI

# reCAPTCHA Secret Key (for backend verification - keep secret!)
RECAPTCHA_SECRET_KEY=6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe

# ===========================================
# Map & Geocoding Configuration
# ===========================================

# OpenStreetMap/Leaflet configuration
VITE_MAP_TILE_URL=https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png
VITE_MAP_ATTRIBUTION=&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors

# Nominatim (OpenStreetMap) Geocoding API
VITE_NOMINATIM_BASE_URL=https://nominatim.openstreetmap.org
VITE_NOMINATIM_RATE_LIMIT=100 # requests per hour per IP

# Default map center and zoom (Guanacaste province for MVP)
VITE_DEFAULT_MAP_LAT=10.7557
VITE_DEFAULT_MAP_LNG=-85.3485
VITE_DEFAULT_MAP_ZOOM=8

# ===========================================
# Feature Flags (for MVP and Phase rollout)
# ===========================================

# MVP Feature Flags
VITE_ENABLE_MAP_VIEW=true
VITE_ENABLE_LIST_VIEW=true
VITE_ENABLE_OUTAGE_REPORTING=true
VITE_ENABLE_GEOLOCATION=true
VITE_ENABLE_BASIC_FILTERING=true

# Phase 2 Feature Flags
VITE_ENABLE_PUSH_NOTIFICATIONS=false
VITE_ENABLE_PHOTO_UPLOAD=false
VITE_ENABLE_COMMUNITY_VOTING=false
VITE_ENABLE_ADVANCED_FILTERING=false
VITE_ENABLE_OFFLINE_MODE=false

# Phase 3 Feature Flags
VITE_ENABLE_USER_ACCOUNTS=false
VITE_ENABLE_SUBSCRIPTIONS=false
VITE_ENABLE_SMS_ALERTS=false
VITE_ENABLE_HISTORICAL_DATA=false
VITE_ENABLE_BUSINESS_API=false

# MVP Scope Limitations
VITE_ENABLE_GUANACASTE_ONLY=true
VITE_ENABLE_ELECTRICITY_OUTAGES=true
VITE_ENABLE_WATER_OUTAGES=true
VITE_ENABLE_INTERNET_OUTAGES=false
VITE_ENABLE_BASIC_STATUS_ONLY=true # active/resolved only

# ===========================================
# Analytics & Monitoring Configuration
# ===========================================

# Google Analytics
VITE_GA_TRACKING_ID=UA-XXXXXXXXX-X

# Error tracking (Sentry or similar)
VITE_SENTRY_DSN=https://your-sentry-dsn-here
VITE_ENABLE_ERROR_TRACKING=false

# Performance monitoring
VITE_ENABLE_PERFORMANCE_MONITORING=true
VITE_PERFORMANCE_SAMPLE_RATE=0.1 # 10% of users

# ===========================================
# Email Configuration (Supabase built-in)
# ===========================================

# Email sender configuration
EMAIL_FROM=noreply@outagecr.app
EMAIL_REPLY_TO=support@outagecr.app

# Email templates
EMAIL_TEMPLATE_REPORT_CONFIRMATION=report-confirmation
EMAIL_TEMPLATE_STATUS_UPDATE=status-update
EMAIL_TEMPLATE_NOTIFICATION_DIGEST=notification-digest

# ===========================================
# File Upload Configuration
# ===========================================

# Supabase Storage bucket for images
VITE_STORAGE_BUCKET=outage-images
VITE_MAX_FILE_SIZE=5242880 # 5MB in bytes
VITE_ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp

# Image processing
VITE_ENABLE_IMAGE_COMPRESSION=true
VITE_MAX_IMAGE_WIDTH=1920
VITE_MAX_IMAGE_HEIGHT=1080

# ===========================================
# API Rate Limiting Configuration
# ===========================================

# Rate limits (from refined PRD)
VITE_RATE_LIMIT_ANONYMOUS_REPORTS=10 # per hour per IP
VITE_RATE_LIMIT_API_CALLS=1000 # per hour per IP
VITE_RATE_LIMIT_GEOCODING=100 # per hour per IP
VITE_RATE_LIMIT_NOTIFICATION_AREAS=5 # per user

# Rate limiting window (in seconds)
VITE_RATE_LIMIT_WINDOW=3600 # 1 hour

# ===========================================
# PWA Configuration
# ===========================================

# PWA manifest configuration
VITE_PWA_NAME=OutageCR - Â¿Hay Luz?
VITE_PWA_SHORT_NAME=OutageCR
VITE_PWA_DESCRIPTION=Plataforma para reportar y verificar cortes de servicios en Costa Rica
VITE_PWA_THEME_COLOR=#2563eb
VITE_PWA_BACKGROUND_COLOR=#ffffff

# PWA icons and images
VITE_PWA_ICON_192=/icons/icon-192x192.png
VITE_PWA_ICON_512=/icons/icon-512x512.png
VITE_PWA_SPLASH_SCREEN=/splash/splash-screen.png

# ===========================================
# Development & Debug Configuration
# ===========================================

# Debug mode
VITE_DEBUG_MODE=false
VITE_ENABLE_DEV_TOOLS=false

# Logging configuration
VITE_LOG_LEVEL=info # debug, info, warn, error
VITE_ENABLE_CONSOLE_LOGGING=true

# Mock data for development
VITE_ENABLE_MOCK_DATA=false
VITE_MOCK_DATA_DELAY=1000 # milliseconds

# ===========================================
# Security Configuration
# ===========================================

# Content Security Policy (CSP)
VITE_ENABLE_CSP=true
VITE_CSP_REPORT_ONLY=false

# Security headers
VITE_ENABLE_HSTS=true
VITE_ENABLE_XSS_PROTECTION=true
VITE_ENABLE_CONTENT_TYPE_NOSNIFF=true

# CORS configuration
VITE_CORS_ORIGIN=http://localhost:5173
VITE_CORS_CREDENTIALS=true

# ===========================================
# Phase 3: Monetization Configuration
# ===========================================

# Stripe Configuration (for Phase 3)
STRIPE_PUBLISHABLE_KEY=pk_test_your-publishable-key-here
STRIPE_SECRET_KEY=sk_test_your-secret-key-here
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here

# Subscription pricing
VITE_SMS_SUBSCRIPTION_PRICE=2.00 # USD per month
VITE_API_ACCESS_PRICE=9.99 # USD per month

# SMS Configuration (for Phase 3)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# ===========================================
# External API Configuration
# ===========================================

# OpenWeatherMap API (for Phase 3 weather correlation)
OPENWEATHERMAP_API_KEY=your-openweathermap-api-key
VITE_OPENWEATHERMAP_BASE_URL=https://api.openweathermap.org/data/2.5

# Business API Configuration (for Phase 3)
VITE_BUSINESS_API_ENABLED=false
VITE_BUSINESS_API_VERSION=v1
VITE_BUSINESS_API_BASE_URL=https://api.outagecr.app

# ===========================================
# Data Retention & Privacy Configuration
# ===========================================

# Data retention policies (from refined PRD)
VITE_DATA_RETENTION_MONTHS=12 # 12 months for anonymous reports
VITE_ENABLE_AUTO_ANONYMIZATION=true
VITE_ANONYMIZATION_CRON_SCHEDULE=0 2 * * * # Daily at 2 AM

# Privacy compliance
VITE_GDPR_COMPLIANCE=true
VITE_CCPA_COMPLIANCE=true
VITE_COSTA_RICAN_LAW_COMPLIANCE=true

# Cookie consent
VITE_ENABLE_COOKIE_CONSENT=true
VITE_COOKIE_CONSENT_DURATION=30 # days

# ===========================================
# Deployment Configuration
# ===========================================

# Sevalla deployment
SEVALLA_APP_ID=your-sevalla-app-id
SEVALLA_API_TOKEN=your-sevalla-api-token

# Build configuration
VITE_BUILD_TARGET=esnext
VITE_BUILD_MINIFY=true
VITE_BUILD_SOURCEMAP=false

# Environment-specific settings
VITE_ENABLE_SENTRY_IN_PRODUCTION=true
VITE_ENABLE_ANALYTICS_IN_PRODUCTION=true
VITE_ENABLE_ERROR_REPORTING_IN_PRODUCTION=true

# ===========================================
# Database Configuration (Supabase)
# ===========================================

# Database connection pooling
DATABASE_POOL_SIZE=10
DATABASE_CONNECTION_TIMEOUT=30 # seconds

# Database performance settings
DATABASE_ENABLE_INDEXING=true
DATABASE_ENABLE_QUERY_CACHE=true
DATABASE_CACHE_TTL=300 # 5 minutes

# Database backup settings
DATABASE_ENABLE_AUTO_BACKUP=true
DATABASE_BACKUP_FREQUENCY=daily
DATABASE_BACKUP_RETENTION=30 # days

# ===========================================
# Testing Configuration
# ===========================================

# Testing environment
VITE_TEST_MODE=false
VITE_ENABLE_E2E_TESTS=false
VITE_TEST_DATABASE_URL=postgresql://test:test@localhost:5432/outagecr_test

# Mock service configuration
VITE_MOCK_SERVICES_ENABLED=false
VITE_MOCK_API_DELAY=500
VITE_MOCK_ERROR_RATE=0.05 # 5% error rate for testing

# ===========================================
# Legacy Configuration (for future migration)
# ===========================================

# Legacy API endpoints (if any)
VITE_LEGACY_API_ENABLED=false
VITE_LEGACY_API_BASE_URL=https://legacy-api.outagecr.app

# Migration settings
VITE_ENABLE_DATA_MIGRATION=false
VITE_MIGRATION_BATCH_SIZE=1000
VITE_MIGRATION_TIMEOUT=300 # seconds
